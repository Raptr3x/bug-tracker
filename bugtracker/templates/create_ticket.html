{% extends "layout_dashboard.html" %}


{% block nav_links %}
<ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
    <!-- Add icons to the links using the .nav-icon class
         with font-awesome or any other icon font library -->
      <li class="nav-item mb-3">
          <a href="{{ url_for('create_ticket') }}" class="nav-link active">
              <i class="nav-icon fas fa-plus"></i>
              <p>
              Create New Ticket
              </p>
          </a>
      </li>
      <li class="nav-item">
          <a href="{{ url_for('home') }}" class="nav-link">
              <i class="nav-icon fas fa-clipboard-list"></i>
              <p>
              Tickets
              </p>
          </a>
      </li>
      <li class="nav-item">
        <a href="{{url_for('diagrams')}}" class="nav-link">
            <i class="nav-icon fas fa-chart-pie"></i>
            <p>
            Diagrams
            </p>
        </a>
      </li>
      {% if current_user.access=="admin" %}
      <li class="nav-item">
        <a href="{{ url_for('register_admin')}}" class="nav-link">
            <i class="nav-icon fas fa-user-plus"></i>
            <p>
            Create Admin Account
            </p>
        </a>
    </li>
    {% endif%}
      <li class="nav-item">
          <a href="{{ url_for('account')}}" class="nav-link">
              <i class="nav-icon fas fa-user-cog"></i>
              <p>
              Settings
              </p>
          </a>
      </li>
      <li class="nav-item">
          <a href="{{url_for('logout')}}" class="nav-link">
              <i class="nav-icon fas fa-sign-out-alt"></i>
              <p>
              Logout
              </p>
          </a>
      </li>
  </ul>
{% endblock nav_links %}

{% block content %}
<div class="col-md-6">
    <!-- general form elements disabled -->
    <div class="card card-primary">
      <div class="card-header">
        <!-- When admin, should be update ticket -->
        <h3 class="card-title">Submit a ticket</h3>
      </div>
      <!-- /.card-header -->
      <div class="card-body">
        <form role="form" method="POST" action="">
        {{ form.hidden_tag() }}
          <div class="row">
            <div class="col-12">
              <!-- text input -->
              <div class="form-group">
                <label>Ticket Title</label>
                {{ form.title(class="form-control", placeholder="Enter...")}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <!-- textarea -->
              <div class="form-group">
                <label>Description</label>
                {{ form.content(class="form-control", placeholder="Describe in as many words as possible what's wrong and how did it happened") }}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
                <div class="form-group">
                <label>Select Severity Level</label>
                {{form.severity(class="form-control")}}
                </div>
            </div>
            </div>
            {% if current_user.access=="admin" %}
            <div class="row">
              <div class="col-6">
                  <div class="form-group">
                  <label>Change Ticket State</label>
                    {{form.state(class="form-control")}}
                  </div>
              </div>
            </div>
              {% endif %}
            <div class="m-t-20">
                {{ form.submit(class="btn btn-primary", placeholder="Submit") }}
            </div>
        </form>
      </div>
      <!-- /.card-body -->
    </div>
    <!-- /.card -->
{% endblock content %}